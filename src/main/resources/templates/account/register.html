<!doctype html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{layout :: page_head}"></head>

<body>
<nav th:replace="~{layout :: page_navbar}"></nav>

<div class="container d-flex justify-content-center align-items-center" style="min-height: 90vh;">
    <div class="card shadow-sm border-0" style="max-width: 450px; width: 100%;">
        <div class="card-header bg-success text-white text-center py-3">
            <h3 class="mb-0">Connexion / Inscription</h3>
        </div>

        <div class="card-body" style="background-color: #faf8f5;">
			<div th:if="${success}" class="alert alert-success text-center" role="alert">
			       Votre compte a été créé avec succès ! Vous pouvez maintenant vous <a href="/login">connecter</a>.
			   </div>
            <form method="post" th:object="${registerDto}">
				
				<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                <div class="mb-3">
                    <label for="firstName" class="form-label fw-bold text-success">Prénom</label>
                    <input type="text" th:field="*{firstName}" id="firstName" class="form-control" placeholder="Ex : Jean">
                    <p th:if="${#fields.hasErrors('firstName')}" class="text-danger small" th:errors="*{firstName}"></p>
                </div>

                <div class="mb-3">
                    <label for="lastName" class="form-label fw-bold text-success">Nom</label>
                    <input type="text" th:field="*{lastName}" id="lastName" class="form-control" placeholder="Ex : Dupont">
                    <p th:if="${#fields.hasErrors('lastName')}" class="text-danger small" th:errors="*{lastName}"></p>
                </div>

                <div class="mb-3">
                    <label for="email" class="form-label fw-bold text-success">Email</label>
                    <input type="email" th:field="*{email}" id="email" class="form-control" placeholder="exemple@mail.com">
                    <p th:if="${#fields.hasErrors('email')}" class="text-danger small" th:errors="*{email}"></p>
                </div>

                <div class="mb-3">
                    <label for="password" class="form-label fw-bold text-success">Mot de passe</label>
                    <input type="password" th:field="*{password}" id="password" class="form-control" placeholder="••••••">
                    <p th:if="${#fields.hasErrors('password')}" class="text-danger small" th:errors="*{password}"></p>
                </div>

                <div class="mb-3">
                    <label for="confirmPassword" class="form-label fw-bold text-success">Confirmer le mot de passe</label>
                    <input type="password" th:field="*{confirmPassword}" id="confirmPassword" class="form-control" placeholder="••••••">
                    <p th:if="${#fields.hasErrors('confirmPassword')}" class="text-danger small" th:errors="*{confirmPassword}"></p>
                </div>

                <div class="text-center mt-4">
                    <button type="submit" class="btn btn-success px-5">Valider</button>
                    <a th:href="@{/}" class="btn btn-outline-secondary ms-2 px-4">Annuler</a>
                </div>
            </form>
        </div>
    </div>
</div>

<footer th:replace="~{layout :: page_footer}"></footer>

<style>
    body {
        background-color: #f3f1ed;
    }

    .card {
        border-radius: 15px;
    }

    .form-control {
        border-radius: 8px;
        border: 1px solid #d9d7d3;
        box-shadow: none;
        transition: border-color 0.2s;
    }

    .form-control:focus {
        border-color: #5cb85c;
        box-shadow: 0 0 0 0.15rem rgba(92, 184, 92, 0.25);
    }

    .btn-success {
        background-color: #5cb85c;
        border-color: #5cb85c;
    }

    .btn-success:hover {
        background-color: #4cae4c;
    }

    .card-header {
        border-top-left-radius: 15px;
        border-top-right-radius: 15px;
    }
</style>

</body>
</html>
